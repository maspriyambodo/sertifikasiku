<?php defined("\x42\101\123\105\x50\x41\x54\110") or die("\x4e\157\40\x64\151\x72\x65\143\x74\x20\x73\143\x72\151\160\x74\40\141\143\143\145\163\163\40\141\154\x6c\157\x77\145\x64"); class M_default extends CI_Model { public function Sys() { $exec = $this->db->query("\103\101\114\114\x20\x73\171\x73\137\141\x70\x70\x5f\x73\145\x6c\145\143\164\x28\x29\73")->row(); mysqli_next_result($this->db->conn_id); return $exec; } public function Menu() { if ($this->session->userdata("\151\144\137\x75\x73\145\x72")) { $exec = $this->db->query("\x43\x41\x4c\x4c\x20\163\171\x73\137\155\145\x6e\x75\x5f\163\x65\x6c\x65\143\x74\x28" . $this->bodo->Dec($this->session->userdata("\162\157\x6c\145\137\151\144")) . "\51\73"); mysqli_next_result($this->db->conn_id); } else { redirect(base_url("\x41\165\x74\x68\57\x69\x6e\144\145\170\x2f")); } return $exec; } public function Group_menu() { $exec = $this->db->query("\103\x41\114\114\x20\147\x72\x6f\x75\x70\137\155\x65\156\x75\50\51\73")->result(); foreach ($exec as $key => $value) { $item[$key] = $value->link; } mysqli_next_result($this->db->conn_id); return $item; } public function Roles($param) { $role_id = $this->bodo->Dec($this->session->userdata("\x72\157\x6c\145\137\x69\x64")); if (!$role_id or empty($role_id)) { $exec = redirect(base_url("\123\151\147\x6e\151\x6e"), $this->session->set_flashdata("\x65\162\x72\137\155\163\147", "\x79\x6f\165\x20\x6e\145\145\x64\x20\x73\x69\x67\x6e\x69\x6e\x20\164\157\x20\141\x63\143\x65\x73\163\40\164\150\x65\40\x73\x79\163\164\145\x6d")); } elseif ($param == 0 and $role_id == 1) { $exec = $this->db->query("\x43\101\x4c\114\40\x73\171\x73\x5f\162\x6f\x6c\145\163\x5f\163\x65\x6c\x65\143\x74\50\x22" . $param . "\x22\x29\73"); mysqli_next_result($this->db->conn_id); } elseif ($param == 0 and $role_id != 1) { $exec = $this->db->select()->from("\163\171\x73\137\162\157\x6c\145\163\137\x73\x65\x6c\145\x63\164")->where(array("\x60\163\x79\x73\x5f\x72\157\x6c\145\163\x5f\163\x65\154\x65\143\164\x60\56\x60\x73\164\141\164\165\163\x5f\x67\162\x75\x70\140" => 1 + false, "\x60\163\171\163\137\x72\x6f\x6c\x65\163\137\x73\x65\x6c\x65\143\164\x60\56\140\160\x61\x72\145\156\164\x5f\x69\x64\140" => $role_id + false))->or_where("\140\x73\x79\163\x5f\x72\x6f\154\x65\163\x5f\x73\145\154\x65\143\164\x60\56\140\163\x74\x61\x74\165\x73\137\x67\162\165\x70\x60", 1, false)->where("\x60\163\171\163\137\x72\157\154\x65\x73\137\x73\145\x6c\x65\x63\164\140\x2e\140\x69\x64\137\147\162\165\x70\140", $role_id, false)->get(); } else { $exec = $this->db->query("\x43\x41\114\114\x20\x73\x79\x73\x5f\x72\157\154\145\163\x5f\x73\145\x6c\145\x63\x74\x28\42" . $param . "\x22\x29\x3b"); mysqli_next_result($this->db->conn_id); } return $exec; } public function Permission($id) { $exec = $this->db->query("\103\101\x4c\x4c\40\x73\x79\163\x5f\x70\x65\162\155\x69\163\x73\x69\x6f\x6e\x5f\163\145\x6c\145\143\164\x28\42" . $id . "\x22\x29\x3b"); mysqli_next_result($this->db->conn_id); return $exec; } }